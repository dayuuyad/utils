pipeline {
    agent any

    stages {
        stage('SonarQube Analysis') {
            steps {

                script {
                    scannerHome = tool 'sonarqubeScanner'
                    scannerPath = "${scannerHome}\\bin\\sonar-scanner.bat"
                }

                withSonarQubeEnv('sonarqube') {
                    powershell 'scannerPath'
                }


            }
        }

    }

}